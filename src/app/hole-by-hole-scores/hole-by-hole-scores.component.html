<div style="height:100vh; overflow-y: scroll; padding-bottom: 50px;">
    <div *ngFor="let event of events" class="mb-4">
        <h3>{{ event.qualifyingRound + ': ' + event.courseName }}</h3>
        <div class="table-container">
            <table mat-table [dataSource]="getDatasource(event)" class="full-width mat-elevation-z4">

                <ng-container sticky [matColumnDef]="'hole'">
                    <th sticky mat-header-cell *matHeaderCellDef>Hole</th> 
                </ng-container>
                <ng-container *ngFor="let hole of event.scorecard.scorecardHoles" [matColumnDef]="'h'+hole.no">
                    <th class="firstNum" mat-header-cell *matHeaderCellDef>{{ hole.no }}</th>    
                </ng-container>
                <ng-container [matColumnDef]="'front'">
                    <th class="text-center big-col" mat-header-cell *matHeaderCellDef>Front</th> 
                </ng-container>
                <ng-container [matColumnDef]="'back'">
                    <th class="text-center big-col" mat-header-cell *matHeaderCellDef>Back</th> 
                </ng-container>
                <ng-container sticky [matColumnDef]="'par'">
                    <th mat-header-cell *matHeaderCellDef>Par</th> 
                </ng-container>
                <ng-container sticky [matColumnDef]="'total'">
                    <th class="text-center big-col" mat-header-cell *matHeaderCellDef>Total</th> 
                </ng-container>
                <ng-container sticky [matColumnDef]="'parTotal'">
                    <th class="text-center" mat-header-cell *matHeaderCellDef>{{ getParTotal(event) }}</th> 
                </ng-container>
                <ng-container [matColumnDef]="'frontTotal'">
                    <th class="text-center" mat-header-cell *matHeaderCellDef>{{ getFrontParTotal(event) }}</th> 
                </ng-container>
                <ng-container [matColumnDef]="'backTotal'">
                    <th class="text-center" mat-header-cell *matHeaderCellDef>{{ getBackParTotal(event) }}</th> 
                </ng-container>
                <ng-container *ngFor="let hole of event.scorecard.scorecardHoles" [matColumnDef]="'p'+hole.no">
                    <th class="firstNum" mat-header-cell *matHeaderCellDef>{{ hole.par }}</th>    
                </ng-container>
                <div *ngFor="let column of columns">
                    <ng-container *ngIf="column === 'name'" sticky [matColumnDef]="column">
                        <td mat-cell *matCellDef="let participant">
                            {{ participant.fullName }}
                        </td>
                    </ng-container>
                    <ng-container *ngIf="column === 'frontTotalP'" [matColumnDef]="column">
                        <td class="text-center" mat-cell *matCellDef="let participant">
                            {{ getPlayerFrontTotal(participant) }}
                        </td>
                    </ng-container>
                    <ng-container *ngIf="column === 'backTotalP'" [matColumnDef]="column">
                        <td class="text-center" mat-cell *matCellDef="let participant">
                            {{ getPlayerBackTotal(participant) }}
                        </td>
                    </ng-container>
                    <ng-container *ngIf="column === 'playerTotal'" [matColumnDef]="column">
                        <td class="text-center" mat-cell *matCellDef="let participant">
                            {{ getFinalScore(participant) }}
                        </td>
                    </ng-container>
                    <ng-container *ngIf="column !== 'name' && column !== 'frontTotalP' && column !== 'backTotalP' && column !== 'playerTotal'" [matColumnDef]="column">
                        <td [class.firstNum]="column === 'name'" class="text-center" mat-cell *matCellDef="let participant">
                            {{ getHoleScore(participant, column) }}
                        </td>
                    </ng-container>
                </div>
        
                <tr class="dark-bkg" mat-header-row *matHeaderRowDef="holeColumns"></tr>
                <tr class="light-bkg" mat-header-row *matHeaderRowDef="parColumns"></tr>
                <tr mat-row *matRowDef="let participant; columns: columns;"></tr>
            </table>
        </div>
    </div>
    <button (click)="close()" mat-raised-button>Close</button>
</div>
